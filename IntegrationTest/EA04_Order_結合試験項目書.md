# EA04_Order_結合試験項目書

## EA0401-UC01-T01_受注検索（検索結果1件以上）

1. 受注管理→受注マスター（既に受注情報が存在する状態にてテストを実施する。）
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される

## EA0401-UC01-T02_受注検索（検索結果0件）

1. 受注管理→受注マスター（既に受注情報が存在する状態にてテストを実施する。）
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、登録されている受注にヒットしない受注のメールアドレスを入力し"検索する"ボタンを押下
1. "検索条件に該当するデータがありませんでした。"メッセージが表示される。

## EA0401-UC02-T01_受注CSVダウンロード

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される
1. "CSVダウンロードボタン"リンクを押下する
1. "受注CSVダウンロード"リンクを押下する
1. CSVがダウンロードされる（検索条件にヒットしたデータのみダウンロードされること）

## EA0401-UC02-T02_受注情報のCSV出力 項目変更設定

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される
1. "CSVダウンロードボタン"リンクを押下する
1. "受注CSV出力項目設定"リンクを押下する
1. "システム設定 CSV出力項目設定"画面へ遷移する。（その後のテストは、システム設定画面のテストにて実施）

## EA0401-UC03-T01_配送CSVダウンロード

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下・検索結果が表示される
1. "CSVダウンロードボタン"リンクを押下する
1. "配送CSVダウンロード"リンクを押下する
1. CSVがダウンロードされる（検索条件にヒットしたデータの、配送情報のみダウンロードされること）

## EA0401-UC03-T02_配送情報のCSV出力 項目変更設定

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される
1. "CSVダウンロードボタン"リンクを押下する
1. "配送CSV出力項目設定"リンクを押下する
1. "システム設定 CSV出力項目設定"画面へ遷移する。（その後のテストは、システム設定画面のテストにて実施）

## EA0401-UC05-T01_受注編集（正常系）

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される
1. 検索結果一覧の"…"ボタンを押下する
1. "編集"ボタンを押下する
1. 受注情報編集画面へ遷移する。
1. 受注情報フォームを変更する
1. "受注情報を登録"ボタンを押下する
1. 登録完了メッセージが表示される。

## EA0401-UC05-T02_受注編集（異常系）

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される
1. 検索結果一覧の"…"ボタンを押下する
1. "編集"ボタンを押下する
1. 受注情報編集画面へ遷移する。
1. 受注情報フォームを変更する（必死項目を未入力にする）
1. "受注情報を登録"ボタンを押下する
1. 未入力の必須項目に"このフィールドを入力してください。"メッセージが表示される。

## EA0401-UC06-T01_受注編集（ステータス変更）

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される
1. 検索結果一覧の"…"ボタンを押下する
1. "編集"ボタンを押下する
1. 受注情報編集画面へ遷移する。
1. 受注ステータスを変更する
1. "受注情報を登録"ボタンを押下する
1. 登録完了メッセージが表示される。

## EA0401-UC08-T01_受注削除（削除実行）

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される
1. 検索結果一覧の"…"ボタンを押下する
1. 削除ボタンを押下する
1. 表示される削除確認アラートの"OK"を押下する
1. 受注マスター画面（初期）を表示し、受注情報が削除される。

## EA0401-UC08-T02_受注削除（削除キャンセル）

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される
1. 検索結果一覧の"…"ボタンを押下する
1. 削除ボタンを押下する
1. 表示される削除確認アラートの"キャンセル"を押下する（画面は遷移しない）

## EA0402-UC01-T01_メール通知

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される
1. 検索結果一覧の"…"ボタンを押下する
1. "メール通知"ボタンを押下する
1. メール通知（入力ページ）画面へ遷移する。
1. テンプレート選択し、件名/ヘッダー/フッターを入力し"送信内容を確認"ボタンを押下する
1. メール通知（確認ページ）へ遷移する。
1. 前画面で入力されたタイトル、本文（ヘッダー+請求金額+商品明細+注文者情報+配送情報）が表示されていることを確認する
1. "メール送信"ボタンを押下する。
1. メール配信完了メッセージが表示され、対象のアドレスにメールが送信される。

## EA0402-UC02-T01_一括メール通知（正常系）

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される
1. 検索結果一覧左側のチェックボックスにチェックを入れる。
1. "メール一括通知"ボタンを押下する
1. メール通知（入力ページ）画面へ遷移する。
1. テンプレート選択し、件名/ヘッダー/フッターを入力し"送信内容を確認"ボタンを押下する
1. メール通知（確認ページ）へ遷移する。
1. 前画面で入力されたタイトル、本文（ヘッダー+請求金額+商品明細+注文者情報+配送情報）が表示されていることを確認
1. "メール送信"ボタンを押下する。
1. メール配信完了メッセージが表示され、対象のアドレスにメールが送信される。

## EA0402-UC02-T01_一括メール通知（異常系）

1. 受注管理→受注マスター
1. 受注管理>受注マスターへ遷移
1. 検索条件入力フォームに、購入者名を入力し"検索する"ボタンを押下
1. 検索結果が表示される
1. 検索結果一覧左側のチェックボックスにチェックを入れる。
1. "メール一括通知"ボタンを押下する
1. メール通知（入力ページ）画面へ遷移する。
1. 「検索結果へ戻る」ボタンを押下する
1. 検索結果一覧画面へ遷移する
1. 前回検索した検索結果が表示される

## EA0405-UC01-T01_受注登録（正常系）

1. 受注管理→受注登録
1. 受注管理>受注登録へ遷移
1. 受注情報フォームを変更する
1. "受注情報を登録"ボタンを押下する
1. 登録完了メッセージが表示される。

## EA0405-UC01-T02_受注登録（異常系）

1. 受注管理→受注登録
1. 受注管理>受注登録へ遷移
1. 受注情報フォームを変更する（必死項目を未入力にする）
1. "受注情報を登録"ボタンを押下する
1. 未入力の必須項目に"このフィールドを入力してください。"メッセージが表示される。

## EA0405-UC02-T01_[複数配送] お届け先をコピー

1. 受注管理 > 受注マスター
1. "お届け先を新規追加"をクリックする。
1. "注文者情報をコピー"をクリックする。
1. お届け先情報をチェックする。

## EA0405-UC02-T02_[複数配送] お届け先をコピーして削除する

1. 受注管理 > 受注マスター
1. "お届け先を新規追加"をクリックして、新規お届け先を作成する。
1. お届け先を削除する（1つ残す）
1. 残すお届け先の情報をコピーする
1. お届け先情報をチェックする。

## EA0405-UC03-T01_[複数配送]商品チェックと配送業者

1. 受注管理 > 受注マスター
1. "お届け先を新規追加"をクリックして、新規お届け先を作成する。
1. お届け先 1, 商品1を選択して配送業者 = A
1. お届け先 ２, 商品1を選択して配送業者 = B
1. SUBMITしてエラーメッセージをチェックする。

## EA0405-UC04-T01_[複数配送] 計算結果チェック

1. 受注管理 > 受注マスター
1. "お届け先を新規追加"をクリックして、新規お届け先を作成する。
1. お届け先 1, 商品1
1. お届け先 ２, 商品２
1. お届け先 ３, 商品３
1. お届け先 ２を削除
1. お支払合計、商品、数量を確認

## EA0405-UC04-T02_[複数配送] 計算結果チェック

1. 受注管理 > 受注マスター
1. "お届け先を新規追加"をクリックして、新規お届け先を作成する。
1. お届け先 1, 商品1を選択して配送業者 = A
1. お届け先 ２, 商品1を選択して配送業者 = B
1. check delivery date is min of all

## EA0405-UC05-T01_受注登録

1. 複数配送を有効にし、受注登録画面に移動する。
1. 複数配送を追加
1. 格配送に商品を追加する。
1. 金額と送料を確認する

## EA0405-UC05-T02_受注登録（複数商品）

1. 複数配送を有効にし、受注登録画面に移動する。
1. 複数配送を追加
1. 格配送に3つ商品を追加する
1. 商品削除 (2つ目の商品)
1. さらに商品を追加する。
1. 登録
1. 合計金額をチェックする。

## EA0402-UC02-T02_ー括受注のステータス変更
1. 新規受付の受注検索
1. 検索結果を確認する
1. 取り寄せ中の受注検索 
1. 検索結果を確認する
1. （新規受付→取り寄せ中)の受注ステータスを変更する。
1. 取り寄せ中の受注検索
1. （新規受付+取り寄せ中）が表示されていることを確認する
